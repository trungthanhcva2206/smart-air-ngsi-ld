spring.application.name=smartair

# Server Configuration
server.port=8081

# Logging Configuration
logging.level.root=INFO
logging.level.org.opensource.smartair=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.boot=INFO

# Console Log Pattern (Spring Boot standard with colors)
logging.pattern.console=%clr(%d{yyyy-MM-dd'T'HH:mm:ss.SSSXXX}){faint} %clr(%5p) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n%wEx

# File Log Pattern (optional - if you want to log to file)
# logging.pattern.file=%d{yyyy-MM-dd'T'HH:mm:ss.SSSXXX} %5p ${PID:- } --- [%t] %-40.40logger{39} : %m%n
# logging.file.name=logs/smartair.log
# logging.file.max-size=10MB
# logging.file.max-history=30

# WebFlux Configuration
spring.http.codecs.max-in-memory-size=10MB

# Orion-LD Configuration
orion.url=http://localhost:1026
orion.tenant=hanoi
orion.service-path=/

# QuantumLeap Configuration
quantumleap.url=http://localhost:8668
quantumleap.fiware-service=hanoi
quantumleap.service-path=/
quantumleap.query.delay.seconds=2
# Number of data points to retrieve (30 days * 24 hours = 720 if hourly)
quantumleap.query.lastN=720

# WebClient timeout settings (milliseconds)
spring.webflux.client.connect-timeout=10000
spring.webflux.client.read-timeout=30000
spring.webflux.client.write-timeout=30000

# Reactor Netty pool settings
spring.reactor.netty.pool.max-connections=50
spring.reactor.netty.pool.max-idle-time=20s

# Backend URL (for Orion-LD subscriptions callback)
# Use localhost for development, change to actual host/IP in production
# Docker: http://backend:8081
# Local: http://localhost:8081
backend.url=http://host.docker.internal:8081

# MySQL Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/smartair_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh
spring.datasource.username=smartair
spring.datasource.password=smartair2024
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Email Configuration (Gmail SMTP)
# To get Gmail App Password: https://myaccount.google.com/security -> 2-Step Verification -> App passwords
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=your-email@gmail.com
spring.mail.password=your-gmail-app-password
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Email Template Configuration
# Display name shown in email client (can be customized)
mail.from-name=Smart Air Quality Alert System Hanoi

# Frontend URL (used in email links)
# Default: http://localhost:5137 if not configured
app.frontend.url=http://localhost:5137
